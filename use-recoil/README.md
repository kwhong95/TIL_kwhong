# Recoil 사용해보기

| 공식문서 살펴보기

## 소개

### 동기

| 외부 글로벌 상태 관리 라이브러리보단 내장 상태 관리 기능이 좋다.

- 상태 관리를 위해 공통된 상위 요소(**State Lifting**)으로 공유할 수 있으나, 이 과정에서 거대한 트리가 다시 렌더링 되는 효과를 발생시킬 수 있다.
- Context는 단일 값 저장만 되며, 자체 소비자(consumer)를 가지는 여러 값의 집합을 담을 수 없다. - **Provider 중첩 현상**
- 트리 최상단(state가 위치한 컴포넌트)부터 트리의 잎(state를 사용하는 컴포넌트)까지의 코드 분할을 어렵게 한다.

> API와 의미 및 동작 가능한 리액트스럽게 개선하고자 나온 것이다.

**Recoil**은 본질적 방향 그래프를 정의하고 React 트리에 붙힌다. 상태변화는 이 그래프의 뿌리(atom)로 부터 순수함수(selector)를 거쳐 컴포넌트로 흐른다.

**접근 방식**

- 공유 상태를 리액트 내부 상태처럼 간단하게 get/set 인터페이스로 사용가능 하도록 제공한다.(보일러플레이트 없이!)
- 다른 새로운 리액트 기능과 호환 가능성도 갖는다.
- 상태 정의는 증분 및 분산되므로 코드 분할이 가능하다.
- 상태를 사용하는 컴포넌트를 수정하지 않고도 상태를 파생된 데이터로 처리 가능하다. - **순수 함수**
- 파생된 데이터를 사용하는 컴포넌트를 수정하지 않고도 파생된 데이터는 동기식과 비동기식 간에 이동이 가능하다.
- 탐색을 일급 개념으로 취급 가능하고 심지어 링크에서 상태 전환을 인코딩할 수도 있다.
- 역호환성 방식으로 전체 애플리케이션 상태를 유지하는 것은 쉬으므로, 유지된 상태는 애플리케이션 변경에도 살아남을 수 있다.
